
import heapq
from heapq import heappush


def dijkstra(graph,start,end):
    pq=[]
    heapq.heappush(pq,(0,start))

    parent={node: None for node in graph.keys()}


   # distance={}
   # for node in graph.keys():
   #     distance[node]=float('inf')
    distance={node: float('inf') for node in graph.keys()}
    distance[start]=0
    visited=set()
    while pq:
        dis,current=heapq.heappop(pq)
        if current in visited:
            continue

        visited.add(current)
        for neighbor,edge_cost in graph[current].items():
            temp_distance=dis+edge_cost

            if temp_distance<distance[neighbor]:
                distance[neighbor]=temp_distance
                parent[neighbor]=current
                heapq,heappush(pq,(temp_distance,neighbor))

    p = []
    node = end

    while node is not None:
        p.append(node)
        node = parent[node]

    p.reverse()
    return distance, distance[end], p

graph={
    'A':{'B':1,'C':4},
    'B':{'A':1,'C':2,'D':6},
    'C':{'A':4,'B':2,'D':3},
    'D':{'B':6,'C':3}

}
start='A'
end='C'
ans,dist,path=dijkstra(graph,start,end)
print(ans)
print("Shortest distance:", dist)
for i in path:
    if i!=end:
        print(i,end='->')
    else:
        print(i)
